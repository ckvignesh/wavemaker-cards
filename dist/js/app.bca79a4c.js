(function(t){function e(e){for(var a,r,s=e[0],c=e[1],d=e[2],l=0,u=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(u.length)u.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],a=!0,r=1;r<o.length;r++){var s=o[r];0!==n[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=o[0]))}return t}var a={},r={app:0},n={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-7d330077":"f58da89d","chunk-d8e602e4":"966fd43d"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={"chunk-7d330077":1};r[t]?e.push(r[t]):0!==r[t]&&o[t]&&e.push(r[t]=new Promise((function(e,o){for(var a="css/"+({}[t]||t)+"."+{"chunk-7d330077":"76a811a3","chunk-d8e602e4":"31d6cfe0"}[t]+".css",n=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var d=i[s],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===a||l===n))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){d=u[s],l=d.getAttribute("data-href");if(l===a||l===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],h.parentNode.removeChild(h),o(i)},h.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){r[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,o){a=n[t]=[e,o]}));e.push(a[2]=i);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var u=new Error;d=function(e){l.onerror=l.onload=null,clearTimeout(h);var o=n[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,o[1](u)}n[t]=void 0}};var h=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(o,a,function(e){return t[e]}.bind(null,a));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=e,d=d.slice();for(var u=0;u<d.length;u++)e(d[u]);var h=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034a":function(t,e,o){},"034f":function(t,e,o){"use strict";o("85ec")},"1a9e":function(t,e,o){},"1f5b":function(t,e,o){"use strict";o("4d70")},"277a":function(t,e,o){"use strict";o("7d7c")},"2ed6":function(t,e,o){},"336a":function(t,e,o){"use strict";o("4714")},4184:function(t,e,o){"use strict";o("2ed6")},4714:function(t,e,o){},"4b03":function(t,e,o){},"4d70":function(t,e,o){},"4f9f":function(t,e,o){},5276:function(t,e,o){},5482:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var a=o("1da1"),r=(o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("96cf"),o("99af"),o("159b"),o("b0c0"),o("b64b"),o("2b0e")),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[t.$root.dbloaded?o("v-main",[t.$root.interface.MainNavigationToggle?o("MainNavigation"):t._e(),o("router-view")],1):t._e(),t.$root.addCard.show?o("AddCardWidget"):t._e(),t.$root.editCard.uuid?o("CardEditorTool"):t._e()],1)},i=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app-bar",{attrs:{app:"","clipped-left":"","clipped-right":"",elevation:"0"}},[o("v-menu",{attrs:{top:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),a),[o("svg",{attrs:{id:"logo",version:"1.1",viewBox:"0 0 24 24",height:"24",width:"24"}},[o("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),o("g",{attrs:{transform:"matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)"}},[o("g",{attrs:{id:"_921457168"}},[o("path",{staticClass:"logo-top",attrs:{d:"M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z"}}),o("path",{staticClass:"logo-bottom",attrs:{d:"m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z"}})])])])])]}}])},[o("v-list",[t._l(t.menuitems,(function(e,a){return o("v-tooltip",{key:a,attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,n=a.attrs;return[o("v-list-item",t._g(t._b({attrs:{link:""},on:{click:function(o){t.$router.push("/"+e.text).catch((function(){}))}}},"v-list-item",n,!1),r),[o("v-list-item-title",[o("v-icon",[t._v(t._s(e.icon))])],1)],1)]}}],null,!0)},[o("span",[t._v(t._s(e.tooltip))])])})),o("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-list-item",t._g(t._b({attrs:{link:""},on:{click:function(e){t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},"v-list-item",r,!1),a),[o("v-list-item-title",[o("v-icon",[t._v("flare")])],1)],1)]}}])},[o("span",[t._v("Dark / Light mode")])]),o("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-list-item",t._g(t._b({attrs:{link:""}},"v-list-item",r,!1),a),[o("v-list-item-title",[o("a",{attrs:{href:"",target:"_blank"}},[o("v-icon",[t._v("star")])],1)])],1)]}}])},[o("span",[t._v("window")])])],2)],1),o("v-toolbar-title",[t._v("Wavemaker ")]),o("v-spacer"),o("span",{staticClass:"version"},[t._v("v."+t._s(t.ver)+" ("+t._s(t.rel)+")")]),this.$route.params.id?o("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.go(-1)}}},[o("v-icon",[t._v("cancel")])],1):t._e()],1)},c=[],d=o("9224"),l={data:function(){return{ver:d["b"],rel:d["a"],menuitems:[{text:"",icon:"whatshot",tooltip:"Welcome"},{text:"project",icon:"home",tooltip:"Project Home"},{text:"writer",icon:"import_contacts",tooltip:"Writing Tool"},{text:"timeline",icon:"access_time",tooltip:"Timeline Tool"},{text:"snowflake",icon:"ac_unit",tooltip:"Snowflake Tool"},{text:"gridplanner",icon:"view_comfy",tooltip:"Grid Planner Tool"},{text:"mindmap",icon:"schema",tooltip:"Mindmap Tool"},{text:"exportoptions",icon:"launch",tooltip:"Export Options"},{text:"database",icon:"layers",tooltip:"Cards Database"},{text:"settings",icon:"settings",tooltip:"Settings"}]}}},u=l,h=(o("8c26"),o("2877")),p=o("6544"),v=o.n(p),f=o("40dc"),m=o("8336"),w=o("132d"),$=o("8860"),g=o("da13"),b=o("5d23"),C=o("e449"),_=o("2fa4"),y=o("2a7f"),k=o("3a2f"),x=Object(h["a"])(u,s,c,!1,null,null,null),D=x.exports;v()(x,{VAppBar:f["a"],VBtn:m["a"],VIcon:w["a"],VList:$["a"],VListItem:g["a"],VListItemTitle:b["c"],VMenu:C["a"],VSpacer:_["a"],VToolbarTitle:y["a"],VTooltip:k["a"]});var B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.showModal1,callback:function(e){t.showModal1=e},expression:"showModal1"}},[o("v-card",[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(e){return t.closeModal()}}},[o("v-icon",[t._v("close")])],1)],1),o("v-card-title",[t._v(" Add New Card ")]),o("v-card-text",[t._v(" You can create a new card, or link to an existing one ")]),o("v-divider"),o("v-card-actions",[o("v-btn",{attrs:{text:""},on:{click:function(e){t.showModal2=!0}}},[o("v-icon",{staticClass:"mr-3"},[t._v("link")]),t._v(" Link to a card ")],1),o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:function(e){return t.addUUidtolist()}}},[o("v-icon",{staticClass:"mr-3"},[t._v("queue")]),t._v(" Add a new card ")],1)],1)],1)],1),o("v-dialog",{attrs:{fullscreen:""},model:{value:t.showModal2,callback:function(e){t.showModal2=e},expression:"showModal2"}},[o("v-card",[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(e){t.showModal2=!1}}},[o("v-icon",[t._v("close")])],1)],1),o("v-card-title",[t._v(" Choose a card to link to ")]),o("v-container",[o("v-row",t._l(t.computedCardsArray,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12",sm:"6",md:"4"}},[o("CardViewer",{attrs:{uuid:e.uuid,drag:!1,edit:!1,overrideTextshow:!0}}),o("v-btn",{attrs:{text:""},on:{click:function(o){return t.addUUidtolist(e.uuid)}}},[o("v-icon",{staticClass:"mr-3"},[t._v("link")]),t._v(" link this card ")],1)],1)})),1)],1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:function(e){t.showModal2=!1}}},[o("v-icon",{staticClass:"mr-3"},[t._v("close")]),t._v(" Close ")],1)],1)],1)],1)],1)},V=[],S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.$root.shadowDB.Cards[t.uuid]?o("v-card",{staticClass:"ma-4 pa-2",style:t.$root.styleBuilder(t.uuid)},[t.drag?o("v-card-actions",{class:"boxhandle"},[o("v-spacer"),o("v-icon",[t._v("drag_handle")])],1):t._e(),t.$root.inlineEdit?o("div",[o("v-card-text",[o("v-text-field",{attrs:{label:"Title"},on:{blur:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Cards[t.uuid].title,callback:function(e){t.$set(t.$root.shadowDB.Cards[t.uuid],"title",e)},expression:"$root.shadowDB.Cards[uuid].title"}}),o("v-textarea",{attrs:{rows:"5",outlined:"",label:"Notes"},on:{blur:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Cards[t.uuid].content,callback:function(e){t.$set(t.$root.shadowDB.Cards[t.uuid],"content",e)},expression:"$root.shadowDB.Cards[uuid].content"}})],1)],1):o("div",[""!=t.$root.shadowDB.Cards[t.uuid].title?o("v-card-title",[t._v(t._s(t.$root.shadowDB.Cards[t.uuid].title))]):t._e(),t.$root.shadowDB.Cards[t.uuid].options.showtext||t.overrideTextshow?o("v-card-text",{staticStyle:{"white-space":"pre-line","max-height":"200px","overflow-y":"auto"}},[t._v(" "+t._s(t.$root.shadowDB.Cards[t.uuid].content)+" ")]):t._e()],1),o("v-card-actions",[t.edit?o("v-btn",{attrs:{icon:""},on:{click:function(e){t.$root.editCard.uuid=t.uuid}}},[o("v-icon",[t._v(" mdi-pencil ")])],1):t._e(),o("v-spacer"),t.deleteCard?o("v-btn",{attrs:{fab:"",color:"error","x-small":""},on:{click:function(e){return t.delete_card()}}},[o("v-icon",[t._v(" mdi-delete ")])],1):t._e()],1),o("pre",{staticStyle:{display:"none"}},[t._v("\r\n     "+t._s(t.$root.shadowDB.Cards[t.uuid])+"\r\n   ")])],1):o("div",[t._v(" Looks like a Card is expected but their aint one! "+t._s(t.uuid)+" ")])],1)},M=[],T=(o("a9e3"),o("a434"),{name:"editor",props:{uuid:String,table:String,cardIndex:Number,overrideTextshow:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},drag:{type:Boolean,default:!1},deleteCard:{type:Boolean,default:!1},targetArray:{type:Array,default:null}},methods:{SaveChange:function(){this.$root.UpdateRecord("Cards",this.uuid,this.$root.shadowDB.Cards[this.uuid])},delete_card:function(){confirm("this will remove the card from this list, but it will remain in the database")&&(this.targetArray.splice(this.cardIndex,1),this.$root.UpdateRecord(this.table,this.$route.params.id,this.$root.shadowDB[this.table][this.$route.params.id]))}},beforeMount:function(){if(!this.$root.shadowDB.Cards[this.uuid]){console.log("No Card");var t={};t.uuid=this.uuid,t.title="",t.content="",t.labels=[],t.style={},t.options={},this.$set(this.$root.shadowDB.Cards,this.uuid,t),this.$root.UpdateRecord("Cards",this.uuid,t)}}}),j=T,E=(o("6841"),o("b0af")),O=o("99d9"),N=o("8654"),A=o("a844"),L=Object(h["a"])(j,S,M,!1,null,"56580f83",null),I=L.exports;v()(L,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardText:O["c"],VCardTitle:O["d"],VIcon:w["a"],VSpacer:_["a"],VTextField:N["a"],VTextarea:A["a"]});var R={components:{CardViewer:I},computed:{computedCardsArray:function(){var t=this,e=[];return Object.keys(this.$root.shadowDB.Cards).forEach((function(o){(t.$root.shadowDB.Cards[o].title||t.$root.shadowDB.Cards[o].content)&&e.push(t.$root.shadowDB.Cards[o])})),e}},methods:{closeModal:function(){this.showModal1=!0,this.showModal2=!1,this.$root.addCard.show=!1},addUUidtolist:function(t){var e={state:{}};if(t)e.uuid=t;else{e.uuid=this.$root.uuid.v4();var o={uuid:e.uuid,title:"",content:"",labels:[],style:{background:null},options:{}};this.$set(this.$root.shadowDB.Cards,e.uuid,o),console.log(this.$root.shadowDB.Cards),this.$root.UpdateRecord("Cards",e.uuid,this.$root.shadowDB.Cards[e.uuid]),console.log("saved new card")}this.$root.addCard.target.list.push(e),this.$root.UpdateRecord(this.$root.addCard.target.table,this.$root.addCard.target.uuid,this.$root.shadowDB[this.$root.addCard.target.table][this.$root.addCard.target.uuid]),this.showModal1=!0,this.showModal2=!1,this.$root.addCard.show=!1,this.$root.addCard.target=null}},data:function(){return{showModal1:!0,showModal2:!1}},mounted:function(){this.showModal1=!0}},W=R,G=(o("e10e"),o("62ad")),P=o("a523"),U=o("169a"),F=o("ce7e"),H=o("0fd9"),z=Object(h["a"])(W,B,V,!1,null,"66eb270a",null),q=z.exports;v()(z,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VDialog:U["a"],VDivider:F["a"],VIcon:w["a"],VRow:H["a"],VSpacer:_["a"]});var Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{"max-width":"900px",persistent:"",scrollable:"","content-class":"editor-dialog"},model:{value:t.$root.editCard.uuid,callback:function(e){t.$set(t.$root.editCard,"uuid",e)},expression:"$root.editCard.uuid"}},[o("v-card",{style:t.$root.styleBuilder(t.$root.editCard.uuid)},[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:t.closeEditor}},[o("v-icon",[t._v("close")])],1)],1),o("v-card-title",[t._v("Edit Card ")]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Title"},on:{blur:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Cards[t.$root.editCard.uuid].title,callback:function(e){t.$set(t.$root.shadowDB.Cards[t.$root.editCard.uuid],"title",e)},expression:"$root.shadowDB.Cards[$root.editCard.uuid].title"}}),o("v-text-field",{attrs:{placeholder:"Labels",outlined:"",dense:"","prepend-icon":"mdi-label","append-outer-icon":"mdi-plus"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.AddLabel(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.AddLabel(e)}],"click:append-outer":t.AddLabel},model:{value:t.newLabel,callback:function(e){t.newLabel=e},expression:"newLabel"}}),o("div",{staticStyle:{"padding-bottom":"10px"}},t._l(t.$root.shadowDB.Cards[t.$root.editCard.uuid].labels,(function(e,a){return o("v-chip",{key:a,staticStyle:{margin:"1px"},attrs:{color:"primary",close:""},on:{"click:close":function(e){return t.deleteChip(a)}}},[t._v(" "+t._s(e)+" ")])})),1),o("v-container",{staticClass:"px-0",attrs:{fluid:""}}),o("v-textarea",{attrs:{rows:"10",outlined:"",label:"Notes"},on:{blur:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Cards[t.$root.editCard.uuid].content,callback:function(e){t.$set(t.$root.shadowDB.Cards[t.$root.editCard.uuid],"content",e)},expression:"$root.shadowDB.Cards[$root.editCard.uuid].content"}}),o("div",[o("v-checkbox",{attrs:{label:"Show Notes on card"},model:{value:t.$root.shadowDB.Cards[t.$root.editCard.uuid].options.showtext,callback:function(e){t.$set(t.$root.shadowDB.Cards[t.$root.editCard.uuid].options,"showtext",e)},expression:"$root.shadowDB.Cards[$root.editCard.uuid].options.showtext"}}),o("v-checkbox",{attrs:{label:"Allow Inline editing"},model:{value:t.$root.inlineEdit,callback:function(e){t.$set(t.$root,"inlineEdit",e)},expression:"$root.inlineEdit"}}),o("div",[t._v(" Choose a color ")]),o("v-btn",{attrs:{"x-small":""},on:{click:function(e){return t.setBg(-1)}}},[-1===t.$root.shadowDB.Cards[t.$root.editCard.uuid].style.background||void 0===t.$root.shadowDB.Cards[t.$root.editCard.uuid].style.background?o("v-icon",{attrs:{dense:""}},[t._v("mdi-check")]):t._e()],1),t._l(t.$root.colorArray,(function(e,a){return o("v-btn",{key:a,staticStyle:{"margin-left":"2px"},attrs:{"x-small":"",color:e},on:{click:function(e){return t.setBg(a)}}},[t.$root.shadowDB.Cards[t.$root.editCard.uuid].style.background===a?o("v-icon",{attrs:{dense:""}},[t._v("mdi-check")]):t._e()],1)}))],2)],1)],1)],1)],1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:t.closeEditor}},[o("v-icon",{staticClass:"mr-3"},[t._v("save")]),t._v(" Save Changes ")],1)],1)],1)],1)],1)},X=[],J=(o("ac1f"),o("5319"),{data:function(){return{newLabel:null}},methods:{closeEditor:function(){this.SaveChange(),this.$root.editCard.uuid=null},SaveChange:function(){console.log("Saving Change"),this.$root.UpdateRecord("Cards",this.$root.editCard.uuid,this.$root.shadowDB.Cards[this.$root.editCard.uuid])},AddLabel:function(){this.newLabel=this.newLabel.replace(/ /g,"");var t=this.newLabel;if(console.log(t),!t)return alert("No text there?"),!1;-1===this.$root.shadowDB.Cards[this.$root.editCard.uuid].labels.indexOf(t)&&(this.$root.shadowDB.Cards[this.$root.editCard.uuid].labels.push(t),this.$root.shadowDB.Cards[this.$root.editCard.uuid].labels.sort(),this.SaveChange(),this.newLabel=null)},deleteChip:function(t){this.$root.shadowDB.Cards[this.$root.editCard.uuid].labels.splice(t,1),this.SaveChange()},setBg:function(t){this.$root.shadowDB.Cards[this.$root.editCard.uuid].style.background=t,this.SaveChange()}}}),K=J,Q=(o("336a"),o("ac7c")),Z=o("cc20"),tt=Object(h["a"])(K,Y,X,!1,null,null,null),et=tt.exports;v()(tt,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardText:O["c"],VCardTitle:O["d"],VCheckbox:Q["a"],VChip:Z["a"],VCol:G["a"],VContainer:P["a"],VDialog:U["a"],VDivider:F["a"],VIcon:w["a"],VRow:H["a"],VSpacer:_["a"],VTextField:N["a"],VTextarea:A["a"]});var ot={components:{MainNavigation:D,AddCardWidget:q,CardEditorTool:et},methods:{WavemakerReset:function(){console.log("Doing a database and cache clear"),this.$root.db.delete(),window.location.reload(!0)},trigger:function(t){t.shiftKey&&"Enter"===t.key&&console.log("ShadowDB : ",this.$root.shadowDB)},updateAvailable:function(t){this.registration=t.detail,this.updateExists=!1},refreshApp:function(){this.updateExists=!1,this.WavemakerReset(),this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})}},destroyed:function(){window.removeEventListener("keydown",this.trigger)},data:function(){return{registration:null,updateExists:!0}},created:function(){document.addEventListener("swUpdated",this.updateAvailable,{once:!0})},mounted:function(){window.addEventListener("keydown",this.trigger)}},at=ot,rt=(o("034f"),o("7496")),nt=o("f6c4"),it=Object(h["a"])(at,n,i,!1,null,null,null),st=it.exports;v()(it,{VApp:rt["a"],VMain:nt["a"]});var ct=o("9483");Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON||Object(ct["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var dt=o("4dec"),lt=(o("963b"),new dt["a"]("wavemaker"));lt.version(1).stores({Settings:"$$uuid, settings, lastupdated",Writer:"$$uuid,title, author, description, files, lastupdated",ManuscriptCards:"$$uuid,title,content,lastupdated",Cards:"$$uuid,title,content,style,labels,options,lastupdated",Snowflake:"$$uuid,title, description,content,lastupdated",Timeline:"$$uuid,title, description,content,lastupdated",Gridplanner:"$$uuid,title, description,content,lastupdated",Mindmap:"$$uuid,title, description,content,lastupdated"});var ut=lt,ht=o("9612"),pt=o("9e91"),vt=o("8c4f"),ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{justify:"center"}},[o("v-card",{staticStyle:{"margin-top":"60px"}},[o("logo",{staticStyle:{width:"50px"}}),o("v-card-title",[o("span",{staticClass:"headline"},[t._v("Getting Started")]),o("v-card-text")],1),o("v-card-text",[t._v(" If you have a wavemaker account put your details in here and it will sync your preferences "),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("div",{staticClass:"column"},[o("v-btn",{staticClass:"wm_button_icon",attrs:{alt:"New project",title:"New project"},on:{click:function(e){return t.$router.push("/newproject")}}},[o("i",{staticClass:"material-icons"},[t._v("create_new_folder")])])],1),Object.keys(this.$root.shadowDB.Settings).length?o("div",{staticClass:"column"},[t._v(" "+t._s(t.$root.shadowDB.Settings[Object.keys(t.$root.shadowDB.Settings)[0]].settings.title)+" "),o("v-btn",{on:{click:function(e){return t.$router.push("project")}}},[o("i",{staticClass:"material-icons"},[t._v("chevron_right")]),t._v(" Continue Working ")])],1):t._e(),o("div",{staticClass:"column"},[o("div",[o("p",[t._v(" Load a file from this computer")]),o("LocalOpen")],1),o("div",[o("p",[t._v("Load a file from your wavemaker account")]),o("WebOpen")],1)])])],1),o("small",[t._v("*indicates required field")])],1)],1)],1)},mt=[],wt=(o("d3b7"),o("3ca3"),o("ddb0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-btn",[o("i",{staticClass:"material-icons"},[t._v("cloud_download")])])],1)}),$t=[],gt={},bt=Object(h["a"])(gt,wt,$t,!1,null,null,null),Ct=bt.exports;v()(bt,{VBtn:m["a"]});var _t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{attrs:{id:"logo",version:"1.1",viewBox:"0 0 24 24",width:"100%"}},[o("defs",{attrs:{id:"defs10"}}),o("path",{attrs:{id:"path2",d:"M0 0h24v24H0V0z",fill:"none"}}),o("g",{attrs:{transform:"matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)",id:"Layer_x0020_1"}},[o("g",{attrs:{id:"_921457168"}},[o("path",{staticStyle:{fill:"var(--logo-top)"},attrs:{id:"path2-8",d:"M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z"}}),o("path",{staticStyle:{fill:"var(--logo-bottom)"},attrs:{id:"path4",d:"m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z"}})])])])},yt=[],kt={},xt=Object(h["a"])(kt,_t,yt,!1,null,null,null),Dt=xt.exports,Bt=function(){return Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?o.e("chunk-d8e602e4").then(o.bind(null,"7324")):o.e("chunk-7d330077").then(o.bind(null,"a166"))},Vt={components:{LocalOpen:Bt,WebOpen:Ct,logo:Dt},beforeMount:function(){this.$root.showNavigation=!1}},St=Vt,Mt=(o("277a"),Object(h["a"])(St,ft,mt,!1,null,"428c15d3",null)),Tt=Mt.exports;v()(Mt,{VBtn:m["a"],VCard:E["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:G["a"],VRow:H["a"]});var jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{staticStyle:{"text-align":"center"},attrs:{justify:"center"}},[o("v-card",{staticStyle:{"margin-top":"60px",padding:"10px"}},[o("logo",{staticStyle:{width:"50px"}}),o("v-card-title",[o("span",{staticClass:"headline"},[t._v("Create a New Project")]),o("v-card-text",[t._v("Choose a name and where to save your work")])],1),o("v-card-text",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Project Name*",required:""},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}}),o("v-btn",{on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")]),o("v-btn",{on:{click:t.Createproject}},[t._v("Create")])],1)],1)],1)],1)],1)},Et=[],Ot={components:{logo:Dt},data:function(){return{projectName:""}},methods:{Createproject:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.projectName){e.next=3;break}return alert("You need to type a project name"),e.abrupt("return",!1);case 3:return e.next=5,t.$root.db.delete().catch((function(t){console.log("caught",t.message)}));case 5:return e.next=7,t.$root.db.open().catch((function(t){console.log("caught",t.message)}));case 7:t.$root.shadowDBLoad(),o={},o.title=t.projectName,o.file={location:null,path:null},o.projectUUID=t.$root.uuid.v4(),t.$root.shadowDB.Settings[o.projectUUID]={settings:o},t.$root.UpdateRecord("Settings",o.projectUUID,{settings:o}),t.$router.push("/project");case 15:case"end":return e.stop()}}),e)})))()}},beforeMount:function(){this.$root.showNavigation=!1}},Nt=Ot,At=(o("b54f"),Object(h["a"])(Nt,jt,Et,!1,null,"794b9478",null)),Lt=At.exports;v()(At,{VBtn:m["a"],VCard:E["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:G["a"],VRow:H["a"],VTextField:N["a"]});var It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Project")]),o("label",[t._v("Project Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.shadowDB.Settings[Object.keys(t.$root.shadowDB.Settings)[0]].settings.title,expression:"$root.shadowDB.Settings[Object.keys($root.shadowDB.Settings)[0]].settings.title"}],attrs:{type:"text",placeholder:"Project Title"},domProps:{value:t.$root.shadowDB.Settings[Object.keys(t.$root.shadowDB.Settings)[0]].settings.title},on:{input:function(e){e.target.composing||t.$set(t.$root.shadowDB.Settings[Object.keys(t.$root.shadowDB.Settings)[0]].settings,"title",e.target.value)}}}),t._m(0)])},Rt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[t._v(" I'm sure there will be more stuff here but I'm blanking right now - theme, font stuff maybe some stats "),o("span",{staticClass:"material-icons"},[t._v("face")])])}],Wt={beforeMount:function(){this.$root.showNavigation=!0}},Gt=Wt,Pt=Object(h["a"])(Gt,It,Rt,!1,null,"5c00be1f",null),Ut=Pt.exports,Ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ht=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("This might not be neccesary")])])}],zt={beforeMount:function(){this.$root.showNavigation=!0}},qt=zt,Yt=Object(h["a"])(qt,Ft,Ht,!1,null,"5e6cfc8f",null),Xt=Yt.exports,Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[o("v-col",{attrs:{align:"center",justify:"center"}},[o("h1",[t._v("Your Manuscripts")])])],1),o("v-row",{attrs:{"no-gutters":""}},t._l(t.$root.shadowDB.Writer,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12",sm:"6",md:"4"}},[o("v-card",{staticClass:"ma-2",attrs:{outlined:""}},[o("v-card-actions",[o("v-btn",{staticClass:"error",attrs:{small:""},on:{click:function(o){return t.DeleteMe(e.uuid)}}},[o("v-icon",[t._v("delete")])],1)],1),o("v-card-title",[t._v(t._s(e.title))]),o("v-card-text",[t._v(" "+t._s(e.author))]),o("v-card-actions",[o("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(o){return t.$router.push("/writer/"+e.uuid)}}},[t._v("Edit "),o("v-icon",[t._v("edit")])],1),o("v-btn",{staticClass:"ma-2",attrs:{color:"info"},on:{click:function(o){return t.$router.push("/planningboard/"+e.uuid)}}},[t._v("Notes "),o("v-icon",[t._v("comment")])],1)],1)],1)],1)})),1),o("v-row",[o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",large:""},on:{click:function(e){return t.NewItem()}}},[o("v-icon",[t._v(" add ")])],1)],1)],1)},Kt=[],Qt={methods:{NewItem:function(){var t=this.$root.uuid.v4(),e={};e.uuid=t,e.title="",e.author="",e.files=[{type:"folder",name:"Welcome",uuid:this.$root.uuid.v4(),files:[],open:!0,active:!1}],this.$root.AddRecord("Writer",e),this.$router.push("/writer/"+t)},DeleteMe:function(t){confirm("sure?")&&this.$root.DeleteRecord("Writer",t)}}},Zt=Qt,te=Object(h["a"])(Zt,Jt,Kt,!1,null,null,null),ee=te.exports;v()(te,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VRow:H["a"]});var oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-navigation-drawer",{attrs:{app:"",clipped:"",width:340},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("Manuscript",{attrs:{list:t.$root.shadowDB.Writer[t.$route.params.id]}})],1),"file"===t.$root.writer.activenode.type?o("v-navigation-drawer",{attrs:{app:"",right:"",clipped:"",width:340},model:{value:t.notedrawer,callback:function(e){t.notedrawer=e},expression:"notedrawer"}},[o("NotesPanel")],1):t._e(),o("v-app-bar",{staticClass:"sticky",attrs:{dense:"",color:"c9",elevation:"0"}},[o("v-btn",{attrs:{icon:""},on:{click:function(e){t.drawer=!t.drawer}}},[t.drawer?o("v-icon",[t._v("menu_open")]):o("v-icon",[t._v("menu")])],1),o("v-spacer"),"file"===t.$root.writer.activenode.type?o("v-btn",{attrs:{icon:""},on:{click:function(e){t.notedrawer=!t.notedrawer}}},[t.notedrawer?o("v-icon",[t._v("speaker_notes_off")]):o("v-icon",[t._v("speaker_notes")])],1):t._e()],1),o("v-container",{attrs:{fluid:""}},[t.$root.writer.activenode.type?o("div",{staticClass:"wm_manuscripteditor"},["file"===t.$root.writer.activenode.type?o("div",[o("v-row",{attrs:{justify:"center"}},[o("v-col",[o("manuscript-editor",{key:t.$root.writer.activenode.uuid,attrs:{uuid:t.$root.writer.activenode.uuid}})],1)],1)],1):o("div",[o("v-row",{attrs:{justify:"center"}},[o("v-col",{attrs:{sm:"12"}},[o("v-text-field",{attrs:{filled:"",type:"text"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.writer.activenode.title,callback:function(e){t.$set(t.$root.writer.activenode,"title",e)},expression:"$root.writer.activenode.title"}}),o("text-viewer",{attrs:{folder:t.$root.writer.activenode}})],1)],1)],1)]):o("div",[o("v-row",{attrs:{justify:"center"}},[o("v-col",{attrs:{cols:"10",md:"10",lg:"8"}},[o("v-text-field",{attrs:{filled:"",label:"Title",type:"text"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Writer[t.$route.params.id].title,callback:function(e){t.$set(t.$root.shadowDB.Writer[t.$route.params.id],"title",e)},expression:"$root.shadowDB.Writer[$route.params.id].title"}}),t._v(" by "),o("v-text-field",{attrs:{filled:"",label:"Author",type:"text"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Writer[t.$route.params.id].author,callback:function(e){t.$set(t.$root.shadowDB.Writer[t.$route.params.id],"author",e)},expression:"$root.shadowDB.Writer[$route.params.id].author"}})],1)],1)],1)])],1)},ae=[],re=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{staticClass:"sticky",attrs:{dense:"",color:"c9",elevation:"0"}},["file"!==t.$root.writer.activenode.type?o("v-btn",{staticClass:"addbtn",attrs:{elevation:"0",tile:"",icon:""},on:{click:t.addFolder}},[o("v-icon",[t._v("create_new_folder")])],1):t._e(),"file"!==t.$root.writer.activenode.type?o("v-btn",{staticClass:"addbtn",attrs:{elevation:"0",tile:"",icon:""},on:{click:t.addText}},[o("v-icon",[t._v("playlist_add")])],1):t._e()],1),o("v-list",{attrs:{dense:""}},[o("v-list-item",{class:{accent:!t.$root.writer.activenode.uuid},attrs:{link:""},on:{click:function(e){return t.selectHome()}}},[o("v-list-item-action",[o("v-icon",[t._v("home")])],1),o("v-list-item-content",[t.$root.shadowDB.Writer[t.$route.params.id].title?o("v-list-item-title",[t._v(t._s(t.$root.shadowDB.Writer[t.$route.params.id].title))]):o("v-list-item-title",[o("em",{staticStyle:{opacity:"30%"}},[t._v("Manuscript Title")])])],1)],1),o("ManuscriptItem",{attrs:{list:t.$root.shadowDB.Writer[t.$route.params.id]}})],1)],1)},ne=[],ie=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("draggable",t._b({attrs:{tag:"div",delay:200,delayOnTouchOnly:!0},on:{end:t.savechanges},model:{value:t.list.files,callback:function(e){t.$set(t.list,"files",e)},expression:"list.files"}},"draggable",t.dragOptions,!1),t._l(t.list.files,(function(e,a){return o("div",{key:a},[o("v-list-item",{class:{accent:e===t.$root.writer.activenode},attrs:{link:""},on:{click:function(o){return t.MakeCurrentNode(e)}}},["folder"===e.type?o("v-list-item-action",{on:{click:function(o){return t.toggleOpenFolder(e)}}},[e.open?t._e():o("v-icon",[t._v("folder")]),e.open?o("v-icon",[t._v("folder_open")]):t._e()],1):o("v-list-item-action",[o("v-icon",[t._v("notes")])],1),"folder"===e.type?o("v-list-item-content",[e.title?o("v-list-item-title",[t._v(t._s(e.title))]):o("v-list-item-title",[o("em",{staticStyle:{opacity:"30%"}},[t._v("New Folder")])])],1):t._e(),"file"===e.type?o("v-list-item-content",[t.$root.shadowDB.ManuscriptCards[e.uuid]?o("v-list-item-title",[""!=t.$root.shadowDB.ManuscriptCards[e.uuid].title?o("span",[t._v(" "+t._s(t.$root.shadowDB.ManuscriptCards[e.uuid].title))]):o("em",{staticStyle:{opacity:"30%"}},[t._v("New Card")])]):o("v-list-item-title",[o("em",{staticStyle:{opacity:"30%"}},[t._v("New Card")])])],1):t._e()],1),e.open&&"folder"===e.type?o("div",[o("ManuscriptItem",{staticClass:"subfolder",attrs:{list:e}})],1):t._e()],1)})),0)},se=[],ce=o("b76a"),de=o.n(ce),le={name:"ManuscriptItem",methods:{savechanges:function(){this.$root.UpdateRecord("Writer",this.$route.params.id,this.$root.shadowDB.Writer[this.$route.params.id])},toggleOpenFolder:function(t){t.open=!t.open,this.savechanges()},MakeCurrentNode:function(t){this.$root.writer.activenode===t||(this.$root.writer.activenode=t)}},components:{draggable:de.a},data:function(){return{drag:null}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}},props:{list:{required:!1,type:Object,default:null}}},ue=le,he=(o("1f5b"),o("1800")),pe=Object(h["a"])(ue,ie,se,!1,null,"6ae26a06",null),ve=pe.exports;v()(pe,{VIcon:w["a"],VListItem:g["a"],VListItemAction:he["a"],VListItemContent:b["a"],VListItemTitle:b["c"]});var fe={components:{ManuscriptItem:ve},data:function(){return{drawer:!0}},methods:{selectHome:function(){this.$root.writer.activenode={}},addFolder:function(){var t={type:"folder",name:"",uuid:this.$root.uuid.v4(),files:[],open:!0,active:!1};this.$root.writer.activenode.uuid?(this.$root.writer.activenode.open=!0,this.$root.writer.activenode.files.push(t)):(console.log(this.$route.params.id),this.$root.shadowDB.Writer[this.$route.params.id].files.push(t)),this.SaveData()},addText:function(){var t={type:"file",uuid:this.$root.uuid.v4(),notes:[],active:!1};this.$root.writer.activenode?"folder"===this.$root.writer.activenode.type&&(this.$root.writer.activenode.open=!0,this.$root.writer.activenode.files.push(t),this.SaveData()):(this.$root.shadowDB.Writer[this.$route.params.id].files.push(t),this.SaveData())},SaveData:function(){this.$root.UpdateRecord("Writer",this.$route.params.id,this.$root.shadowDB.Writer[this.$route.params.id])}}},me=fe,we=(o("85be"),Object(h["a"])(me,re,ne,!1,null,"2f3bf53d",null)),$e=we.exports;v()(we,{VAppBar:f["a"],VBtn:m["a"],VIcon:w["a"],VList:$["a"],VListItem:g["a"],VListItemAction:he["a"],VListItemContent:b["a"],VListItemTitle:b["c"]});var ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{staticClass:"sticky",attrs:{dense:"",color:"c9",elevation:"0"}},[o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(e){return t.addNote(t.$root.writer.activenode)}}},[o("v-icon",[t._v("add_comment")])],1)],1),o("draggable",t._b({attrs:{handle:".boxhandle",group:"boxes",setData:t.setData,editinline:t.$root.inlineEdit},on:{change:t.SaveChange},model:{value:t.$root.writer.activenode.notes,callback:function(e){t.$set(t.$root.writer.activenode,"notes",e)},expression:"$root.writer.activenode.notes"}},"draggable",t.dragOptions,!1),[o("transition-group",{staticClass:"flip-list",attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.$root.writer.activenode.notes,(function(e,a){return o("CardViewer",{key:a,attrs:{table:"Writer",cardIndex:a,uuid:e.uuid,drag:!0,edit:!0,deleteCard:!0,targetArray:t.$root.writer.activenode.notes}})})),1)],1)],1)},be=[],Ce={components:{CardViewer:I,draggable:de.a},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},data:function(){return{selectedColumn:null}},methods:{setData:function(t){t.setDragImage(document.createElement("div"),0,0)},addNote:function(t){console.log("add to :",t),this.$root.addCard.target={table:"Writer",uuid:this.$route.params.id,list:t.notes},this.$root.addCard.show=!0},closeModal:function(){this.$root.addCard.show=!1,this.$root.addCard.target=null,console.log("closed")},SaveChange:function(){this.$root.UpdateRecord("Writer",this.$route.params.id,this.$root.shadowDB.Writer[this.$route.params.id])}}},_e=Ce,ye=(o("ee51"),Object(h["a"])(_e,ge,be,!1,null,"28cd493e",null)),ke=ye.exports;v()(ye,{VAppBar:f["a"],VBtn:m["a"],VIcon:w["a"],VSpacer:_["a"]});var xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.$root.shadowDB.ManuscriptCards[this.uuid]?t._e():o("v-alert",{},[o("v-icon",[t._v("warning")]),t._v(" This card is not in the database ")],1),t.$root.shadowDB.ManuscriptCards[this.uuid]?o("div",{staticClass:"wm_manuscripteditor"},[o("v-btn",{attrs:{fab:"",small:"",absolute:"",right:""},on:{click:function(e){t.showSrc=!t.showSrc}}},[o("v-icon",[t._v("settings")])],1),o("v-text-field",{attrs:{label:"Title"},on:{keyup:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.ManuscriptCards[t.uuid].title,callback:function(e){t.$set(t.$root.shadowDB.ManuscriptCards[t.uuid],"title",e)},expression:"$root.shadowDB.ManuscriptCards[uuid].title"}}),t.showSrc?t._e():o("tiptap-vuetify",{staticClass:"wm_manuscript",attrs:{extensions:t.extensions,"toolbar-attributes":t.toolbarAttrs},on:{blur:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.ManuscriptCards[t.uuid].content,callback:function(e){t.$set(t.$root.shadowDB.ManuscriptCards[t.uuid],"content",e)},expression:"$root.shadowDB.ManuscriptCards[uuid].content"}}),t.showSrc?o("v-textarea",{attrs:{"auto-grow":"",filled:""},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.ManuscriptCards[t.uuid].content,callback:function(e){t.$set(t.$root.shadowDB.ManuscriptCards[t.uuid],"content",e)},expression:"$root.shadowDB.ManuscriptCards[uuid].content"}}):t._e()],1):t._e()],1)},De=[],Be=o("3f38"),Ve={computed:{toolbarAttrs:function(){return this.$vuetify.theme.isDark?{color:"dark",dark:!0}:{color:"light",dark:!1}}},components:{TiptapVuetify:Be["q"]},data:function(){return{showSrc:!1,oldextensions:[Be["h"],Be["a"],Be["l"],Be["s"],Be["p"],Be["k"],Be["m"],Be["c"],Be["n"],Be["j"],[Be["g"],{options:{levels:[1,2,3]}}],Be["b"],Be["l"],Be["d"],Be["e"],Be["i"],Be["o"],Be["f"]],extensions:[Be["b"],Be["k"],Be["o"],[Be["g"],{options:{levels:[1,2]}}],Be["j"]],content:"\n      <h1>Yay Headlines!</h1>\n      <p>All these <strong>cool tags</strong> are working now.</p>\n    "}},props:{uuid:String},methods:{SaveChange:function(){console.log("Apply manuscript forced changes ",this.$root.shadowDB.ManuscriptCards[this.uuid].content);var t=this.$root.shadowDB.ManuscriptCards[this.uuid].content;t=t.replaceAll("---","&mdash;"),t=t.replaceAll("--","&ndash;"),this.$root.shadowDB.ManuscriptCards[this.uuid].content=t,this.$root.UpdateRecord("ManuscriptCards",this.uuid,this.$root.shadowDB.ManuscriptCards[this.uuid])}},created:function(){if(!this.$root.shadowDB.ManuscriptCards[this.uuid]){console.log("Adding Record");var t={};t.uuid=this.uuid,t.title="",t.content="",this.$root.AddRecord("ManuscriptCards",t)}}},Se=Ve,Me=(o("65cf"),o("0798")),Te=Object(h["a"])(Se,xe,De,!1,null,"289ed2ce",null),je=Te.exports;v()(Te,{VAlert:Me["a"],VBtn:m["a"],VIcon:w["a"],VTextField:N["a"],VTextarea:A["a"]});var Ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.folder.files,(function(e){return o("div",{key:e.uuid},["folder"!=e.type?o("div",[o("v-card",{attrs:{elevation:"2",tile:""}},[t.$root.shadowDB.ManuscriptCards[e.uuid]?o("div",[o("v-card-subtitle",[o("v-icon",{staticClass:"pr-4"},[t._v("notes")]),t._v(" "+t._s(t.$root.shadowDB.ManuscriptCards[e.uuid].title)+" "),o("v-btn",{attrs:{absolute:"","x-small":"",color:"accent",dark:"",fab:"",right:""},on:{click:function(o){t.$root.writer.activenode=e}}},[o("v-icon",[t._v("edit")])],1)],1),o("v-card-text",{staticClass:"wm_manuscript",domProps:{innerHTML:t._s(t.$root.shadowDB.ManuscriptCards[e.uuid].content)}})],1):o("div",[o("v-card-subtitle",[o("v-icon",{staticClass:"pr-4"},[t._v("notes")]),t._v(" ................... "),o("v-btn",{attrs:{absolute:"","x-small":"",color:"accent",dark:"",fab:"",right:""},on:{click:function(o){t.$root.writer.activenode=e}}},[o("v-icon",[t._v("edit")])],1)],1)],1)])],1):o("div",[o("h4",{staticClass:"pa-3"},[o("v-icon",{staticClass:"pr-4"},[t._v("folder")]),t._v(" "+t._s(e.title))],1),o("div",[o("text-viewer",{attrs:{folder:e}})],1)])])})),0)},Oe=[],Ne={name:"TextViewer",props:{folder:Object},components:{TextViewer:Ie}},Ae=Ne,Le=(o("954b"),Object(h["a"])(Ae,Ee,Oe,!1,null,null,null)),Ie=Le.exports;v()(Le,{VBtn:m["a"],VCard:E["a"],VCardSubtitle:O["b"],VCardText:O["c"],VIcon:w["a"]});var Re={data:function(){return{drawer:!0,notedrawer:!0}},components:{Manuscript:$e,NotesPanel:ke,TextViewer:Ie,ManuscriptEditor:je},methods:{SaveChange:function(){this.$root.UpdateRecord("Writer",this.$route.params.id,this.$root.shadowDB.Writer[this.$route.params.id])}}},We=Re,Ge=(o("4184"),o("f774")),Pe=Object(h["a"])(We,oe,ae,!1,null,"0cbe68ef",null),Ue=Pe.exports;v()(Pe,{VAppBar:f["a"],VBtn:m["a"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VNavigationDrawer:Ge["a"],VRow:H["a"],VSpacer:_["a"],VTextField:N["a"]});var Fe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("div",{staticClass:"scroller"},[o("div",{staticStyle:{"vertical-align":"top"},style:{width:t.TableWidth+"px"}},t._l(t.NotesArray,(function(t,e){return o("PlanningboardColumn",{key:e,attrs:{mynode:t}})})),1)])])},He=[],ze=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"notecol"},[t.$root.shadowDB.ManuscriptCards[t.mynode.uuid]&&t.$root.shadowDB.ManuscriptCards[t.mynode.uuid].title?o("div",{staticClass:"colheader"},[t._v(t._s(t.$root.shadowDB.ManuscriptCards[t.mynode.uuid].title))]):o("div",{staticClass:"colheader"},[o("em",{staticStyle:{opacity:"50%"}},[t._v("New Card")])]),o("draggable",{attrs:{handle:".boxhandle",group:"boxes"},on:{change:t.BoxDrag},model:{value:t.mynode.notes,callback:function(e){t.$set(t.mynode,"notes",e)},expression:"mynode.notes"}},[o("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.mynode.notes,(function(e,a){return o("CardViewer",{key:a,attrs:{table:"Writer",cardIndex:a,uuid:e.uuid,drag:!0,edit:!0,deleteCard:!0,targetArray:t.mynode.notes}})})),1)],1),o("div",{staticClass:"button-holder"},[o("v-btn",{attrs:{color:"primary","x-small":"",fab:"",right:""},on:{click:function(e){return t.addNote(t.mynode)}}},[o("v-icon",[t._v("add")])],1)],1)],1)},qe=[],Ye={components:{CardViewer:I,draggable:de.a},data:function(){return{selectedColumn:null,showModal:!1}},props:{mynode:Object},methods:{addNote:function(t){console.log("add to :",t),this.$root.addCard.target={table:"Writer",uuid:this.$route.params.id,list:t.notes},this.$root.addCard.show=!0},closeModal:function(){this.showModal=!1,console.log("closed")},BoxDrag:function(){this.SaveData()},SaveData:function(){this.$root.UpdateRecord("Writer",this.$route.params.id,this.$root.shadowDB.Writer[this.$route.params.id])}}},Xe=Ye,Je=(o("de68"),Object(h["a"])(Xe,ze,qe,!1,null,"4f2e65b8",null)),Ke=Je.exports;v()(Je,{VBtn:m["a"],VIcon:w["a"]});var Qe={components:{PlanningboardColumn:Ke},data:function(){return{NotesArray:[]}},computed:{TableWidth:function(){return 350*(this.NotesArray.length+1)}},methods:{GetNotesObjects:function(t){var e=this;t.forEach((function(t){"file"===t.type&&e.NotesArray.push(t),"folder"===t.type&&e.GetNotesObjects(t.files)}))}},mounted:function(){this.NotesArray=[],this.GetNotesObjects(this.$root.shadowDB.Writer[this.$route.params.id].files)}},Ze=Qe,to=(o("7c1a"),Object(h["a"])(Ze,Fe,He,!1,null,"cf8ec19c",null)),eo=to.exports;v()(to,{VContainer:P["a"]});var oo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{attrs:{"no-gutters":"",justify:"center"}},[o("h1",[t._v("Your Snowflakes")])]),t._l(t.$root.shadowDB.Snowflake,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12"}},[o("v-card",{staticClass:"ma-2",attrs:{outlined:""}},[o("v-card-title",[t._v(t._s(e.title))]),o("v-card-actions",[o("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(o){return t.$router.push("/snowflake/"+e.uuid)}}},[t._v("Edit "),o("v-icon",[t._v("edit")])],1),o("v-btn",{staticClass:"error",attrs:{icon:"",absolute:"",right:"",top:""},on:{click:function(o){return t.DeleteMe(e.uuid)}}},[o("v-icon",[t._v("delete")])],1)],1)],1)],1)})),o("v-row",[o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",large:""},on:{click:function(e){return t.NewItem()}}},[o("v-icon",[t._v(" add ")])],1)],1)],2)},ao=[],ro={methods:{NewItem:function(){var t=this.$root.uuid.v4(),e={};e.uuid=t,e.title="",e.content=[{parent:null,uuid:this.$root.uuid.v4(),children:[],isopen:!1}],this.$root.AddRecord("Snowflake",e),this.$router.push("/snowflake/"+t)},DeleteMe:function(t){confirm("sure?")&&this.$root.DeleteRecord("Snowflake",t)}}},no=ro,io=Object(h["a"])(no,oo,ao,!1,null,null,null),so=io.exports;v()(io,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VRow:H["a"]});var co=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[t.$root.shadowDB.Snowflake[t.$route.params.id]?o("div",[o("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{label:"Title",solo:"","append-outer-icon":"mdi-pencil"},on:{change:function(e){return t.SaveChange()},"click:append-outer":function(e){t.$root.inlineEdit=!t.$root.inlineEdit}},model:{value:t.$root.shadowDB.Snowflake[t.$route.params.id].title,callback:function(e){t.$set(t.$root.shadowDB.Snowflake[t.$route.params.id],"title",e)},expression:"$root.shadowDB.Snowflake[$route.params.id].title"}})],1)],1),t._l(t.$root.shadowDB.Snowflake[t.$route.params.id].content,(function(e,a){return o("v-row",{key:a,attrs:{"no-gutters":"",align:"center",justify:"center"}},[o("v-col",{staticStyle:{position:"relative"},attrs:{cols:"12",sm:"6"}},[o("v-btn",{attrs:{rounded:"",fab:"",absolute:"",top:"",right:"","x-small":"",color:"primary"},on:{click:function(o){return t.openRow(e)}}},[o("v-icon",{staticStyle:{transform:"rotate(90deg)"}},[t._v("call_split")])],1),o("CardViewer",{attrs:{table:"Snowflake",uuid:e.uuid,drag:!1,edit:!0,deleteCard:!1,editinline:t.$root.inlineEdit}})],1),o("v-fade-transition",[e.isopen?o("v-col",{attrs:{cols:"12",sm:"6"}},[t._l(e.children,(function(r,n){return o("div",{key:n,staticClass:"ms-5 mb-10",attrs:{color:"c8","max-width":"100%",outlined:""}},[o("CardViewer",{attrs:{table:"Snowflake",uuid:r.uuid,drag:!1,edit:!0,deleteCard:!1,editinline:t.$root.inlineEdit}}),o("v-btn",{attrs:{fab:"",color:"error","x-small":"",absolute:"",bottom:"",left:""},on:{click:function(o){return t.deleteSub(e,a)}}},[o("v-icon",[t._v("delete")])],1)],1)})),o("div",{staticClass:"ma-4 mb-10",attrs:{align:"center"}},[o("v-btn",{attrs:{fab:"","x-small":"",color:"success"},on:{click:function(o){return t.replaceMe(e,a)}}},[o("v-icon",[t._v("check")])],1),o("v-btn",{attrs:{fab:"","x-small":"",color:"accent"},on:{click:function(o){return t.extraCard(e)}}},[o("v-icon",[t._v("add")])],1)],1)],2):t._e()],1)],1)}))],2):o("div",[t._v("loading ...")])])},lo=[],uo=o("2909"),ho={components:{CardViewer:I},methods:{openRow:function(t){0===t.children.length&&(t.children.push({uuid:this.$root.uuid.v4(),parent:this.$route.params.id,children:[],isopen:!1}),t.children.push({uuid:this.$root.uuid.v4(),parent:this.$route.params.id,children:[],isopen:!1}),t.children.push({uuid:this.$root.uuid.v4(),parent:this.$route.params.id,children:[],isopen:!1})),t.isopen=!t.isopen,this.SaveChange()},extraCard:function(t){t.children.push({uuid:this.$root.uuid.v4(),parent:this.$route.params.id,children:[],isopen:!1}),this.SaveChange()},deleteSub:function(t,e){confirm("you sure?")&&(t.children.splice(e,1),this.SaveChange())},replaceMe:function(t,e){var o;confirm("you sure?")&&((o=this.$root.shadowDB.Snowflake[this.$route.params.id].content).splice.apply(o,[e,1].concat(Object(uo["a"])(t.children))),this.SaveChange())},SaveChange:function(){this.$root.UpdateRecord("Snowflake",this.$route.params.id,this.$root.shadowDB.Snowflake[this.$route.params.id])}}},po=ho,vo=o("0789"),fo=Object(h["a"])(po,co,lo,!1,null,null,null),mo=fo.exports;v()(fo,{VBtn:m["a"],VCol:G["a"],VContainer:P["a"],VFadeTransition:vo["c"],VIcon:w["a"],VRow:H["a"],VTextField:N["a"]});var wo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{attrs:{"no-gutters":"",justify:"center"}},[o("h1",[t._v("Your Timelines")])]),t._l(t.$root.shadowDB.Timeline,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12"}},[o("v-card",{staticClass:"ma-2",attrs:{outlined:""}},[o("v-card-title",[t._v(t._s(e.title))]),o("v-card-actions",[o("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(o){return t.$router.push("/timeline/"+e.uuid)}}},[t._v("Edit "),o("v-icon",[t._v("edit")])],1),o("v-btn",{staticClass:"error",attrs:{icon:"",absolute:"",right:"",top:""},on:{click:function(o){return t.DeleteMe(e.uuid)}}},[o("v-icon",[t._v("delete")])],1)],1)],1)],1)})),o("v-row",[o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",large:""},on:{click:function(e){return t.NewItem()}}},[o("v-icon",[t._v(" add ")])],1)],1)],2)},$o=[],go={methods:{NewItem:function(){var t=this.$root.uuid.v4(),e={};e.uuid=t,e.title="",e.content=[],this.$root.AddRecord("Timeline",e),this.$router.push("/timeline/"+t)},DeleteMe:function(t){confirm("sure?")&&this.$root.DeleteRecord("Timeline",t)}}},bo=go,Co=Object(h["a"])(bo,wo,$o,!1,null,null,null),_o=Co.exports;v()(Co,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VRow:H["a"]});var yo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[t.$root.shadowDB.Timeline[t.$route.params.id]?o("div",[o("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-text-field",{attrs:{label:"Title",solo:"","append-outer-icon":"mdi-pencil"},on:{change:function(e){return t.SaveChange()},"click:append-outer":function(e){t.$root.inlineEdit=!t.$root.inlineEdit}},model:{value:t.$root.shadowDB.Timeline[t.$route.params.id].title,callback:function(e){t.$set(t.$root.shadowDB.Timeline[t.$route.params.id],"title",e)},expression:"$root.shadowDB.Timeline[$route.params.id].title"}})],1)],1),o("section",{staticClass:"cd-container",attrs:{id:"cd-timeline"}},[o("draggable",t._b({attrs:{handle:".cd-location",setData:t.setData},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Timeline[t.$route.params.id].content,callback:function(e){t.$set(t.$root.shadowDB.Timeline[t.$route.params.id],"content",e)},expression:"$root.shadowDB.Timeline[$route.params.id].content"}},"draggable",t.dragOptions,!1),[o("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.$root.shadowDB.Timeline[t.$route.params.id].content,(function(e,a){return o("div",{key:a,staticClass:"cd-timeline-block"},[o("div",{staticClass:"cd-timeline-img cd-location"},[o("svg",{attrs:{id:"logo",version:"1.1",viewBox:"0 0 24 24",height:"24",width:"24"}},[o("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),o("g",{attrs:{transform:"matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)"}},[o("g",{attrs:{id:"_921457168"}},[o("path",{staticClass:"logo-top",attrs:{d:"M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z"}}),o("path",{staticClass:"logo-bottom",attrs:{d:"m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z"}})])])])]),o("div",{staticClass:"cd-timeline-content"},[o("CardViewer",{attrs:{table:"Timeline",cardIndex:a,uuid:e.uuid,drag:!1,edit:!0,deleteCard:!0,targetArray:t.$root.shadowDB.Timeline[t.$route.params.id].content}})],1)])})),0)],1),o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",absolute:"",bottom:"",dark:"",color:"success"},on:{click:function(e){return t.AddTimelineNode()}}},[o("v-icon",[t._v("add")])],1)],1)],1):o("div",[t._v(" loading ... ")])])},ko=[],xo={components:{CardViewer:I,draggable:de.a},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{AddTimelineNode:function(){this.$root.addCard.target={table:"Timeline",uuid:this.$route.params.id,list:this.$root.shadowDB.Timeline[this.$route.params.id].content},this.$root.addCard.show=!0},setData:function(t){t.setDragImage(document.createElement("div"),0,0)},SaveChange:function(){this.$root.UpdateRecord("Timeline",this.$route.params.id,this.$root.shadowDB.Timeline[this.$route.params.id])}}},Do=xo,Bo=(o("f073"),Object(h["a"])(Do,yo,ko,!1,null,"992826a0",null)),Vo=Bo.exports;v()(Bo,{VBtn:m["a"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VRow:H["a"],VTextField:N["a"]});var So=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{attrs:{"no-gutters":"",justify:"center"}},[o("h1",[t._v("Your Grids")])]),o("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},t._l(t.$root.shadowDB.Gridplanner,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12"}},[o("v-card",{staticClass:"ma-2",attrs:{outlined:""}},[o("v-card-title",[t._v(t._s(e.title))]),o("v-card-actions",[o("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(o){return t.$router.push("/gridplanner/"+e.uuid)}}},[t._v("Edit "),o("v-icon",[t._v("edit")])],1),o("v-btn",{staticClass:"error",attrs:{icon:"",absolute:"",right:"",top:""},on:{click:function(o){return t.DeleteMe(e.uuid)}}},[o("v-icon",[t._v("delete")])],1)],1)],1)],1)})),1),o("v-row",[o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",large:""},on:{click:function(e){return t.NewItem()}}},[o("v-icon",[t._v(" add ")])],1)],1)],1)},Mo=[],To={methods:{NewItem:function(){var t=this.$root.uuid.v4(),e={title:""};e.uuid=t,e.content={headers:[""],rowtitle:[""],list:[[[]]]},this.$root.AddRecord("Gridplanner",e),this.$router.push("/gridplanner/"+t)},DeleteMe:function(t){confirm("sure?")&&this.$root.DeleteRecord("Gridplanner",t)}}},jo=To,Eo=Object(h["a"])(jo,So,Mo,!1,null,null,null),Oo=Eo.exports;v()(Eo,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VIcon:w["a"],VRow:H["a"]});var No=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.$root.shadowDB.Gridplanner[t.$route.params.id]?o("div",[o("v-row",{staticStyle:{"padding-top":"15px"},attrs:{"no-gutters":"",align:"top",justify:"center"}},[o("v-col",{attrs:{cols:"7"}},[o("v-text-field",{attrs:{label:"Title"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].title,callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id],"title",e)},expression:"$root.shadowDB.Gridplanner[$route.params.id].title"}})],1),o("v-col",{staticStyle:{"text-align":"right"},attrs:{cols:"4"}},[o("v-btn",{attrs:{fab:"",title:"Add Column",small:""},on:{click:t.AddColumn}},[o("v-icon",{attrs:{small:""}},[t._v("horizontal_distribute")])],1),o("v-btn",{attrs:{fab:"",title:"Add Row",small:""},on:{click:t.AddRow}},[o("v-icon",{attrs:{small:""}},[t._v("vertical_distribute")])],1)],1)],1),o("div",{staticClass:"scroller"},[o("div",{staticClass:"headerRow",style:{width:t.TableWidth+"px"}},[o("draggable",{attrs:{handle:".handle"},on:{change:t.HeaderRearrange},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.headers,callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id].content,"headers",e)},expression:"\n              $root.shadowDB.Gridplanner[$route.params.id].content.headers\n            "}},[o("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.headers,(function(e,a){return o("div",{key:a,staticClass:"tableBlock handle",attrs:{scope:"headings"}},[o("v-textarea",{staticClass:"centerText",attrs:{"auto-grow":"",solo:"",rows:"1",placeholder:"title"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.headers[a],callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.headers,a,e)},expression:"\n                    $root.shadowDB.Gridplanner[$route.params.id].content\n                      .headers[headerindex]\n                  "}})],1)})),0)],1)],1),o("draggable",{attrs:{handle:".rowhandle"},on:{change:t.RowRearrange},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.rowtitle,callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id].content,"rowtitle",e)},expression:"\n            $root.shadowDB.Gridplanner[$route.params.id].content.rowtitle\n          "}},[o("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.rowtitle,(function(e,a){return o("div",{key:a,staticClass:"rowholder",style:{width:t.TableWidth+"px","vertical-align":"top"}},[o("div",{staticClass:"tableBlock rowhandle"},[o("div",[o("v-textarea",{staticClass:"centerText",attrs:{"auto-grow":"",solo:"",rows:"1",placeholder:"title"},on:{change:function(e){return t.SaveChange()}},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.rowtitle[a],callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.rowtitle,a,e)},expression:"\n                      $root.shadowDB.Gridplanner[$route.params.id].content\n                        .rowtitle[rowindex]\n                    "}})],1)]),t._l(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.headers,(function(e,r){return o("div",{key:r,staticClass:"tableBlock"},[o("draggable",{attrs:{handle:".boxhandle",group:"boxes"},on:{change:t.BoxDrag},model:{value:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.list[a][r],callback:function(e){t.$set(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.list[a],r,e)},expression:"\n                    $root.shadowDB.Gridplanner[$route.params.id].content.list[\n                      rowindex\n                    ][headerindex]\n                  "}},[o("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.$root.shadowDB.Gridplanner[t.$route.params.id].content.list[a][r],(function(e,n){return o("div",{key:n,staticClass:"ma-1",staticStyle:{position:"relative"}},[o("v-btn",{staticClass:"boxhandle",attrs:{fab:"",absolute:"",top:"",right:"","x-small":"",color:"secondary"}},[o("v-icon",[t._v("open_with")])],1),o("CardViewer",{attrs:{table:"Gridplanner",uuid:e,drag:!1,edit:!0,deleteCard:!0,targetArray:t.$root.shadowDB.Gridplanner[t.$route.params.id].content.list[a][r],editinline:t.$root.inlineEdit}})],1)})),0)],1),o("div",{staticStyle:{"padding-left":"25px","padding-right":"25px","text-align":"center"}},[o("v-btn",{staticStyle:{width:"100%"},attrs:{color:"secondary"},on:{click:function(e){return t.AddCard(a,r)}}},[o("v-icon",[t._v("add")])],1)],1)],1)}))],2)})),0)],1)],1)],1):o("div",[t._v(" loading ... ")])])},Ao=[],Lo={components:{CardViewer:I,draggable:de.a},computed:{TableWidth:function(){return 350*(this.$root.shadowDB.Gridplanner[this.$route.params.id].content.headers.length+2)}},methods:{AddColumn:function(){this.$root.shadowDB.Gridplanner[this.$route.params.id].content.headers.push("New");var t=this.$root.shadowDB.Gridplanner[this.$route.params.id].content.list;t.forEach((function(t){t.push([])})),this.SaveChange()},AddRow:function(){this.$root.shadowDB.Gridplanner[this.$route.params.id].content.rowtitle.push("New");var t=[],e=this.$root.shadowDB.Gridplanner[this.$route.params.id].content.headers;e.forEach((function(){t.push([])})),this.$root.shadowDB.Gridplanner[this.$route.params.id].content.list.push(t),this.SaveChange()},HeaderRearrange:function(t){var e=this.$root.shadowDB.Gridplanner[this.$route.params.id].content.list;e.forEach((function(e){e.splice(t.moved.newIndex,0,e.splice(t.moved.oldIndex,1)[0])})),this.SaveChange()},RowRearrange:function(t){var e=this.$root.shadowDB.Gridplanner[this.$route.params.id].content.list;e.splice(t.moved.newIndex,0,e.splice(t.moved.oldIndex,1)[0]),this.SaveChange()},BoxDrag:function(){this.SaveChange()},AddCard:function(t,e){var o=this.$root.uuid.v4();this.$root.shadowDB.Gridplanner[this.$route.params.id].content.list[t][e].push(o),this.SaveChange()},removeMe:function(t){confirm("you sure?")&&(this.$root.shadowDB.Gridplanner[this.$route.params.id].content.splice(t,1),this.SaveChange())},SaveChange:function(){this.$root.UpdateRecord("Gridplanner",this.$route.params.id,this.$root.shadowDB.Gridplanner[this.$route.params.id])}}},Io=Lo,Ro=(o("db6b"),Object(h["a"])(Io,No,Ao,!1,null,"a3b1fa5e",null)),Wo=Ro.exports;v()(Ro,{VBtn:m["a"],VCol:G["a"],VIcon:w["a"],VRow:H["a"],VTextField:N["a"],VTextarea:A["a"]});var Go=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-main",[o("v-container",[o("v-row",{attrs:{"no-gutters":"",justify:"center"}},[o("h1",[t._v("Your Mindmpas")])]),o("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},t._l(t.$root.shadowDB.Mindmap,(function(e,a){return o("v-col",{key:a,attrs:{cols:"12"}},[o("v-card",{staticClass:"ma-2",attrs:{outlined:""}},[o("v-card-title",[t._v(t._s(e.title))]),o("v-card-actions",[o("v-btn",{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(o){return t.$router.push("/mindmap/"+e.uuid)}}},[t._v("Edit "),o("v-icon",[t._v("edit")])],1),o("v-btn",{staticClass:"error",attrs:{icon:"",absolute:"",right:"",top:""},on:{click:function(o){return t.DeleteMe(e.uuid)}}},[o("v-icon",[t._v("delete")])],1)],1)],1)],1)})),1),o("v-row",[o("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{fab:"",large:""},on:{click:function(e){t.showmodal=!0}}},[o("v-icon",[t._v(" add ")])],1)],1)],1),o("v-dialog",{attrs:{width:"500"},model:{value:t.showmodal,callback:function(e){t.showmodal=e},expression:"showmodal"}},[o("v-card",[o("v-btn",{staticStyle:{"margin-top":"25px"},attrs:{color:"pink",fab:"",dark:"","x-small":"",absolute:"",top:"",right:""},on:{click:t.toggleModal}},[o("v-icon",[t._v("close")])],1),o("v-card-title",{staticClass:"headline grey lighten-2"},[o("p",{staticClass:"modal-card-title"},[t._v("Create New")])]),o("v-card-text",[o("v-text-field",{attrs:{label:"Title"},model:{value:t.newMindmap.title,callback:function(e){t.$set(t.newMindmap,"title",e)},expression:"newMindmap.title"}}),o("v-textarea",{attrs:{label:"Description","auto-grow":""},model:{value:t.newMindmap.description,callback:function(e){t.$set(t.newMindmap,"description",e)},expression:"newMindmap.description"}})],1),o("v-divider"),o("v-card-actions",[o("v-btn",{attrs:{color:"error",text:""},on:{click:t.toggleModal}},[t._v(" Cancel")]),o("v-spacer"),o("v-btn",{attrs:{color:"primary",text:""},on:{click:t.NewItem}},[t._v(" Create New ")])],1)],1)],1)],1)},Po=[],Uo=(o("a4d3"),o("e01a"),{data:function(){return{showmodal:"",newMindmap:{title:"",author:"",description:"",template:""}}},methods:{toggleModal:function(){""===this.showmodal?this.showmodal="is-active":this.showmodal=""},NewItem:function(){var t=this.$root.uuid.v4(),e={};e.uuid=t,e.title=this.newMindmap.title,e.description=this.newMindmap.description,e.content={headers:[""],rowtitle:[""],list:[[[]]]},this.$root.AddRecord("Mindmap",e),this.toggleModal()},DeleteMe:function(t){confirm("sure?")&&this.$root.DeleteRecord("Mindmap",t)}},beforeMount:function(){this.$root.showNavigation=!0}}),Fo=Uo,Ho=(o("cb44"),Object(h["a"])(Fo,Go,Po,!1,null,"08428898",null)),zo=Ho.exports;v()(Ho,{VBtn:m["a"],VCard:E["a"],VCardActions:O["a"],VCardText:O["c"],VCardTitle:O["d"],VCol:G["a"],VContainer:P["a"],VDialog:U["a"],VDivider:F["a"],VIcon:w["a"],VMain:nt["a"],VRow:H["a"],VSpacer:_["a"],VTextField:N["a"],VTextarea:A["a"]});var qo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wm_scrollwindow"},[o("div",{staticClass:"sticky",attrs:{"no-gutters":"",align:"center",justify:"center",color:"c9"}},[o("div",{attrs:{cols:"12"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.shadowDB.Mindmap[t.$route.params.id].title,expression:"$root.shadowDB.Mindmap[$route.params.id].title"}],attrs:{type:"text"},domProps:{value:t.$root.shadowDB.Mindmap[t.$route.params.id].title},on:{change:function(e){return t.SaveChange()},input:function(e){e.target.composing||t.$set(t.$root.shadowDB.Mindmap[t.$route.params.id],"title",e.target.value)}}})])]),o("div",{attrs:{id:"scroller"},on:{mousemove:function(e){return t.DrawingLine()}}},[o("div",{staticClass:"lineDrawing",style:t.DrawLineStyle}),t._l(Object.entries(t.$root.shadowDB.Mindmap[t.$route.params.id].content),(function(e){return t._l(Object.entries(e[1].linksOut),(function(a,r){return o("div",{key:r+e[0],staticClass:"lineDraw",style:t.lineStyle(e[0],a[0]),on:{click:function(o){return t.DeleteLink(e[0],a[0])}}})}))})),t._l(Object.entries(t.$root.shadowDB.Mindmap[t.$route.params.id].content),(function(e){return[o("vue-draggable-resizable",{key:e[0],staticClass:"card",class:t.currentitem[0]===e[0]?"tophover":"",attrs:{parent:!1,w:e[1].width,h:e[1].height,x:e[1].x,y:e[1].y,"drag-handle":".drag"},on:{activated:function(o){return t.onActivated(e)},deactivated:function(o){return t.onDeactivated(e[0])},dragging:t.onDrag,resizing:t.onResize}},[o("div",{attrs:{width:e[1].width}},[o("div",{staticClass:"drag"},[o("i",{staticClass:"mdi mdi-drag md-24"})]),"text"===e[1].type?o("p",{class:[e[0]===t.currentitem[0]?"active":"faded"]},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e[1].content,expression:"item[1].content"}],attrs:{value:"The Woodman set to work at once, and so sharp was his axe that the tree was soon chopped nearly through.",rows:"1"},domProps:{value:e[1].content},on:{blur:function(e){return t.SaveChange()},input:function(o){o.target.composing||t.$set(e[1],"content",o.target.value)}}})]):t._e(),o("button",{staticClass:"button is-small is-success",on:{click:function(o){return t.createLink(e)}}},[o("i",{staticClass:"mdi mdi-link md-18"})]),o("button",{staticClass:"button is-small is-danger",on:{click:function(o){return t.DeleteNode(e)}}},[o("i",{staticClass:"mdi mdi-delete md-18"})])])])]}))],2),o("button",{staticClass:"button is-small is-success",on:{click:function(e){return t.AddNode()}}},[o("i",{staticClass:"mdi mdi-plus md-18"})])])},Yo=[],Xo=(o("4fad"),o("fb19")),Jo=o.n(Xo),Ko={components:{VueDraggableResizable:Jo.a},data:function(){return{createlink:null,currentitem:[],DrawLineStyle:{top:"-10000px"},LastNodePos:null}},methods:{createLink:function(t){if(null===this.createlink)this.createlink=t;else if(this.createlink!=t){var e=this.createlink,o=t;this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content[e[0]].linksOut,o[0],1),this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content[o[0]].linksIn,e[0],1),console.log("create",e,o),this.createlink=null,this.SaveChange()}else this.createlink=null},DeleteLink:function(t,e){this.$delete(this.$root.shadowDB.Mindmap[this.$route.params.id].content[t].linksOut,e),this.$delete(this.$root.shadowDB.Mindmap[this.$route.params.id].content[e].linksIn,t),this.SaveChange()},DrawingLine:function(){if(this.createlink){var t=this.createlink[1],e=document.getElementById("scroller").getBoundingClientRect(),o=t.x+t.width/2,a=t.y+t.height/2,r=event.clientX-e.left,n=event.clientY-e.top,i=Math.sqrt((r-o)*(r-o)+(n-a)*(n-a)),s=(o+r)/2-i/2,c=(a+n)/2-1,d=Math.atan2(a-n,o-r)*(180/Math.PI),l={top:c+"px",left:s+"px",width:i+"px",transform:"rotate("+d+"deg)"};this.DrawLineStyle=l}else this.DrawLineStyle={top:"-10000px"}},lineStyle:function(t,e){var o=this.$root.shadowDB.Mindmap[this.$route.params.id].content[t],a=this.$root.shadowDB.Mindmap[this.$route.params.id].content[e],r=o.x+o.width/2,n=o.y+o.height/2,i=a.x+a.width/2,s=a.y+a.height/2,c=Math.sqrt((i-r)*(i-r)+(s-n)*(s-n)),d=(r+i)/2-c/2,l=(n+s)/2-1,u=Math.atan2(n-s,r-i)*(180/Math.PI),h={top:l+"px",left:d+"px",width:c+"px",transform:"rotate("+u+"deg)"};return h},onActivated:function(t){this.currentitem=t,this.LastNodePos=t},onDeactivated:function(){this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content,this.currentitem[0],this.currentitem[1]),this.SaveChange(),this.currentitem=[]},onResize:function(t,e,o,a){this.currentitem[1].x=t,this.currentitem[1].y=e,this.currentitem[1].width=o,this.currentitem[1].height=a,this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content,this.currentitem[0],this.currentitem[1])},onDrag:function(t,e){if(t<10||e<10)return!1;this.currentitem[1].y=e,this.currentitem[1].x=t,this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content,this.currentitem[0],this.currentitem[1])},DeleteNode:function(t){var e=this,o=t[0];Object.entries(this.$root.shadowDB.Mindmap[this.$route.params.id].content).forEach((function(t){e.$delete(t[1].linksOut,o)})),this.$delete(this.$root.shadowDB.Mindmap[this.$route.params.id].content,o),this.SaveChange()},AddNode:function(){console.log("lastpos ",this.LastNodePos);var t=10,e=10,o=300,a=200;this.LastNodePos&&(t=this.LastNodePos[1].x+10+this.LastNodePos[1].width,e=this.LastNodePos[1].y),this.LastNodePos=null;var r=this.$root.uuid.v4(),n={x:t,y:e,width:o,height:a,type:"text",content:"",linksIn:{},linksOut:{}};this.$set(this.$root.shadowDB.Mindmap[this.$route.params.id].content,r,n),this.SaveChange()},SaveChange:function(){this.$root.UpdateRecord("Mindmap",this.$route.params.id,this.$root.shadowDB.Mindmap[this.$route.params.id])}},beforeMount:function(){this.$root.showNavigation=!0}},Qo=Ko,Zo=(o("dd7c"),Object(h["a"])(Qo,qo,Yo,!1,null,"bf81226e",null)),ta=Zo.exports,ea=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},oa=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Export Options")])])}],aa={beforeMount:function(){this.$root.showNavigation=!0}},ra=aa,na=Object(h["a"])(ra,ea,oa,!1,null,"38d4d6f6",null),ia=na.exports,sa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-navigation-drawer",{attrs:{app:"",clipped:"",width:340},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"title"},[t._v(" Search ")]),o("v-list-item-subtitle",[t._v(" Database ")])],1)],1),o("v-divider"),o("v-list-item",[o("v-text-field",{attrs:{"hide-details":"","single-line":"",placeholder:"keyword","prepend-icon":"mdi-magnify"},on:{blur:function(e){return t.computeCardArray()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.computeCardArray()}},model:{value:t.searchterm,callback:function(e){t.searchterm=e},expression:"searchterm"}})],1),o("v-list-item",[o("v-select",{attrs:{items:t.labelArray,attach:"",chips:"",placeholder:"labels",multiple:"","prepend-icon":"mdi-label"},on:{blur:function(e){return t.computeCardArray()}},model:{value:t.selectedLabels,callback:function(e){t.selectedLabels=e},expression:"selectedLabels"}})],1),o("v-list-item",[o("v-btn",{attrs:{text:"",block:""},on:{click:function(e){return t.clearall()}}},[t._v("Clear")])],1)],1),o("v-container",{staticStyle:{"padding-top":"45px"}},[o("v-row",t._l(t.cardsArray,(function(t,e){return o("v-col",{key:e,attrs:{cols:"12",sm:"6",md:"3"}},[o("CardViewer",{key:e,attrs:{cardIndex:e,uuid:t.uuid,drag:!1,edit:!0,deleteCard:!1}})],1)})),1),o("v-btn",{staticStyle:{position:"fixed",top:"70px"},attrs:{fab:"",color:"secondary",small:""},on:{click:function(e){t.drawer=!t.drawer}}},[o("v-icon",[t._v("mdi-magnify")])],1)],1)],1)},ca=[],da={data:function(){return{drawer:!0,searchterm:null,cardsArray:[],labelArray:[],selectedLabels:[]}},components:{CardViewer:I},methods:{clearall:function(){this.selectedLabels=[],this.searchterm=null,this.computeCardArray()},computeCardArray:function(){var t=this,e=[],o=[];Object.keys(this.$root.shadowDB.Cards).forEach((function(a){t.$root.shadowDB.Cards[a].labels.forEach((function(t){-1===o.indexOf(t)&&o.push(t)})),o.sort(),t.labelArray=o,(t.$root.shadowDB.Cards[a].title||t.$root.shadowDB.Cards[a].content)&&(t.searchterm?(String(t.$root.shadowDB.Cards[a].title).toLowerCase().indexOf(t.searchterm.toLowerCase())>-1||String(t.$root.shadowDB.Cards[a].content).toLowerCase().indexOf(t.searchterm.toLowerCase())>-1)&&e.push(t.$root.shadowDB.Cards[a]):e.push(t.$root.shadowDB.Cards[a]))}));var a=[];this.selectedLabels.length?e.forEach((function(e){var o=0;t.selectedLabels.forEach((function(t){e.labels.indexOf(t)>-1&&o++})),o&&a.push(e)})):a=e,this.cardsArray=a}},beforeMount:function(){this.computeCardArray()}},la=da,ua=o("b974"),ha=Object(h["a"])(la,sa,ca,!1,null,"4634db2a",null),pa=ha.exports;v()(ha,{VBtn:m["a"],VCol:G["a"],VContainer:P["a"],VDivider:F["a"],VIcon:w["a"],VListItem:g["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"],VNavigationDrawer:Ge["a"],VRow:H["a"],VSelect:ua["a"],VTextField:N["a"]}),r["a"].use(vt["a"]);var va=[{path:"/",name:"Welcome",component:Tt},{path:"/newproject",name:"New Project",component:Lt},{path:"/project",name:"Project Home",component:Ut},{path:"/writer",name:"Writer Home",component:ee},{path:"/writer/:id",name:"WriterItem",component:Ue},{path:"/planningboard/:id",name:"PlanningboardItem",component:eo},{path:"/snowflake",name:"Snowflake Home",component:so},{path:"/snowflake/:id",name:"SnowflakeItem",component:mo},{path:"/timeline",name:"Timeline Home",component:_o},{path:"/timeline/:id",name:"TimelineItem",component:Vo},{path:"/gridplanner",name:"Gridplanner Home",component:Oo},{path:"/gridplanner/:id",name:"GridplannerItem",component:Wo},{path:"/database",name:"Database",component:pa},{path:"/mindmap",name:"Mindmap Home",component:zo},{path:"/mindmap/:id",name:"MindmapItem",component:ta},{path:"/settings",name:"Settings Home",component:Xt},{path:"/exportoptions",name:"Exportoptions Home",component:ia}],fa=new vt["a"]({mode:(Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON,"hash"),base:"",routes:va}),ma=fa,wa=(o("5363"),o("f309")),$a=o("71d9");r["a"].use(wa["a"],{iconfont:"md",components:{VTooltip:k["a"],VToolbar:$a["a"],VCard:E["a"],VIcon:w["a"],VBtn:m["a"]}});var ga=new wa["a"]({lang:{current:"en"},icons:{iconfont:"mdi"},rtl:!1,theme:{dark:!0,themes:{dark:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",c0:"#fafafa",c1:"#f5f5f5",c2:"#eeeeee",c3:"#e0e0e0",c4:"#bdbdbd",c5:"#9e9e9e",c6:"#757575",c7:"#616161",c8:"#424242",c9:"#212121",cardcolours:["#7f0000","#560027","#12005e","#000063","#000051","#002171","#002f6c","#00363a","#00251a","#003300","#003d00","#524c00","#bc5100","#c43e00","#ac1900","#870000"]},light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",c0:"#212121",c1:"#424242",c2:"#616161",c3:"#757575",c4:"#9e9e9e",c5:"#bdbdbd",c6:"#e0e0e0",c7:"#eeeeee",c8:"#f5f5f5",c9:"#fafafa",cardcolours:["#ff7961","#ff6090","#d05ce3","#9a67ea","#757de8","#5472d3","#4f83cc","#428e92","#39796b","#4c8c4a","#629749","#b4a647","#ffb04c","#ffa040","#ff833a","#f9683a"]}}}});o("b404"),o("bf40");r["a"].config.productionTip=!1,r["a"].use(Be["r"],{vuetify:ga}),new r["a"]({router:ma,render:function(t){return t(st)},data:function(){return{db:ut,importDB:pt["b"],exportDB:pt["a"],uuid:ht["a"],shadowDB:{},windowID:null,inlineEdit:!1,isElectron:Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON,dbloaded:!1,addCard:{show:!1,target:null},editCard:{uuid:null},fileinfo:{location:null,type:null},writer:{activenode:{}},interface:{MainNavigationToggle:!1,showPanel:!1,notesPanel:!1,SelectedNode:{},manuscriptUUID:!1}}},computed:{colorArray:function(){var t=this.$vuetify.theme.themes.light.cardcolours;return this.$vuetify.theme.dark&&(t=this.$vuetify.theme.themes.dark.cardcolours),t}},methods:{importFile:function(t){console.log("Import",JSON.parse(t))},export_db:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.exportDB(t.db,{prettyJson:!0,progressCallback:function(t){var e=t.totalRows,o=t.completedRows;console.log("Progress: ".concat(o," of ").concat(e," rows completed"))}}).catch((function(t){console.log("caught",t.message)}));case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})))()},import_db:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.db.delete().catch((function(t){console.log("caught",t.message)}));case 2:return o.next=4,e.importDB(e.db,t,{prettyJson:!0,progressCallback:function(t){var e=t.totalRows,o=t.completedRows;console.log("Progress: ".concat(o," of ").concat(e," rows completed"))}}).catch((function(t){console.log("caught",t.message)}));case 4:case"end":return o.stop()}}),o)})))()},AddRecord:function(t,e){var o=this;e.lastupdated=Date.now(),this.$root.db.transaction("rw",t,(function(a){a.source=null,o.db[t].add(e)})).then()},UpdateRecord:function(t,e,o){var a=this;console.log("Updating",t,e,o),o.uuid=e,o.lastupdated=Date.now(),this.$root.db.transaction("rw",t,(function(r){r.source=a.windowID,a.shadowDB[t][e]=o,a.$root.db[t].put(o)})).then()},DeleteRecord:function(t,e){var o=this;this.$root.db.transaction("rw",t,(function(a){a.source=null,o.$root.db[t].delete(e)})).then()},shadowDBLoad:function(){var t=this;this.shadowDB={};var e=0,o=0;this.db.tables.forEach((function(a){"_"!=a.name.charAt(0)&&(o++,t.$set(t.shadowDB,a.name,{}),t.db[a.name].each((function(e){t.$set(t.shadowDB[a.name],e.uuid,e)})).then((function(){e++,e===o&&(t.dbloaded=!0,t.checkDB())})))}))},checkDB:function(){Object.keys(this.$root.shadowDB.Settings).length?(console.log("LOADED Shadow Database",this.$root.shadowDB.Settings),this.$root.interface.MainNavigationToggle=!0):(window.wmlog("No DB found in memory - load a file/ create new","error"),this.$root.DBexists=!1,this.$router.push("/").catch((function(){})))},styleBuilder:function(t){var e="";return parseInt(this.$root.shadowDB.Cards[t].style.background)>-1&&(e=e+"background-color:"+this.$root.colorArray[this.$root.shadowDB.Cards[t].style.background]+";"),e}},beforeMount:function(){this.windowID=this.$root.uuid.v4(),this.shadowDBLoad()},vuetify:ga,mounted:function(){var t=this;this.$root.db.on("changes",(function(e){e.forEach((function(e){if(e.source!=t.windowID)switch(e.type){case 1:t.$set(t.shadowDB[e.table],e.key,e.obj);break;case 2:t.$root.shadowDB[e.table][e.key]=e.obj;break;case 3:t.$delete(t.$root.shadowDB[e.table],e.key);break}}))}))}}).$mount("#app")},"65cf":function(t,e,o){"use strict";o("5482")},6841:function(t,e,o){"use strict";o("4f9f")},7469:function(t,e,o){},"7c1a":function(t,e,o){"use strict";o("ae00")},"7d7c":function(t,e,o){},8513:function(t,e,o){},"85be":function(t,e,o){"use strict";o("8513")},"85ec":function(t,e,o){},"8c26":function(t,e,o){"use strict";o("034a")},9224:function(t){t.exports=JSON.parse('{"a":"alpha","b":"0.2.1"}')},"94d9":function(t,e,o){},"954b":function(t,e,o){"use strict";o("1a9e")},ae00:function(t,e,o){},b424:function(t,e,o){},b4d3:function(t,e,o){},b54f:function(t,e,o){"use strict";o("4b03")},bca2:function(t,e,o){},c011:function(t,e,o){},cb44:function(t,e,o){"use strict";o("bca2")},db6b:function(t,e,o){"use strict";o("b424")},dd7c:function(t,e,o){"use strict";o("c011")},de68:function(t,e,o){"use strict";o("94d9")},e10e:function(t,e,o){"use strict";o("5276")},ee51:function(t,e,o){"use strict";o("7469")},f073:function(t,e,o){"use strict";o("b4d3")}});
//# sourceMappingURL=app.bca79a4c.js.map